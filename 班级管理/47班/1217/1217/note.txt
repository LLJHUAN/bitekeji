1、用户向空间配置器申请空间

if(要申请的空间是大空间(>128bytes))
{
	使用一级空间配置器
}
else
{
	确认这个待分配空间属于哪个桶。
	if(这个桶里有货)
	{
		直接给货
	}
	else
	{
		先补货（往桶里补充空间）
		再给货
	}
}

2、向桶中补货

用户申请一件货物
if(只给了一件)
{
	直接送到
}
else //给了很多相同的货物，当前客户消费不完
{
	先把第一个送到，剩下的结成链。
}

3、向内存池中索要空间

向总部报告，用户想要鸡腿，我要申请20个鸡腿
if(总部有20个鸡腿)
{
	派送20个鸡腿，结束。
}
else if(总部没有20个鸡腿，但是有若干个)
{
	有几个派送几个，结束。
}
else //总部一个鸡腿都没有
{
	总部向供应商申请鸡腿
	
	我先将杂物清理掉（内存池还剩多少，挂在桶里）
	
	if(总部申请到了鸡腿)
	{
		重新执行用户的需求（从一开始重新执行）
	}
	else
	{
		看看库里还有没有整鸡
		if(有整鸡)
		{
			掰个鸡腿给用户先发了
		}
		else
		{
			启动用户一开始约定的没有鸡腿怎么办的应急预案（调用一级空间配置器，通过set new handle函数榨取空间）
		}
	}
}

4、回收空间

看下垃圾属于大型垃圾还是可回收垃圾
if(大型垃圾)
{
	烧毁
}
else //可回收垃圾
{
	回收到对应的桶里
}

※一级空间配置器不是封装了new，而是封装成了new
※一般STL会优先选择二级空间配置器


